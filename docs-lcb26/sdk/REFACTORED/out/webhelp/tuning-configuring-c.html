
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="Configuring overview In addition to the initial settings passed to the client via the connection string, you can adjust properties of the client to better function in your specific environment. The ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="topic"></meta><meta name="DC.Title" content="Tuning and Configuring"></meta><meta name="DC.Relation" scheme="URI" content="other-toplevel.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="topic_k5w_kzt_4r"></meta><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Tuning and Configuring</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="topic_k5w_kzt_4r">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="other-toplevel.html" title="Other">Other</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="other-toplevel.html" title="Other"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Other</span></a></span>  </div></td></tr></tbody></table>

	<h1 class="title topictitle1">Tuning and Configuring</h1>

	<div class="body">
        <div class="section"><h2 class="title sectiontitle">Configuring overview</h2><div class="p">In addition to the initial settings passed to
                the client via the connection string, you can adjust properties of the client to
                better function in your specific environment. The <span class="keyword apiname">lcb_cntl()</span>
                function is used to retrieve or modify library settings on a per-instance basis. The
                general syntax for retrieving a setting
                is:<pre class="pre codeblock language-c">lcb_U32 curval;
lcb_cntl(instance, LCB_CNTL_GET, LCB_CNTL_OPTIMEOUT, &amp;curval);</pre>
And
                the general syntax for modifying a setting
                is:<pre class="pre codeblock language-c">lcb_U32 newval = <span class="hl-number">4000000</span>; <em class="hl-comment" style="color:#006400">// Set to 4 seconds</em>
lcb_cntl(instance, LCB_CNTL_SET, LCB_CNTL_OPTIMEOUT, &amp;newval);</pre>
By
                design, this API works similarly to the <samp class="ph codeph">setsockopt()</samp>,
                    <samp class="ph codeph">getsockopt()</samp>, and <samp class="ph codeph">ioctl()</samp> interfaces. It is
                passed an instance to operate on, a <em class="ph i">mode</em> constant (what sort of access to
                perform), a <em class="ph i">setting</em> constant (which setting to access) and finally the
                    <em class="ph i">value</em>, which is either written to or read from depending on whether the
                    <em class="ph i">mode</em> indicates a modification or a retrieval, respectively.</div>
<p class="p">The
                    <span class="keyword apiname">lcb_cntl()</span> function returns an error code of
                    <samp class="ph codeph">LCB_SUCCESS</samp> if successful, <samp class="ph codeph">LCB_NOT_SUPPORTED</samp>
                (or <samp class="ph codeph">LCB_ECTL_UNKNOWN</samp>) if the <em class="ph i">setting</em> is not known. Always
                check the return code and be prepared to take action if the specific operation is
                not supported in the specific version of the library.</p>
<p class="p">The constants are well
                defined and do not change between versions. Thus, if you intend to modify an
                optional setting and also intend to compile against a possibly older version of the
                library where the constant is not defined, you can use the raw numeric literal (for
                example, <samp class="ph codeph">0x1E</samp>) rather than the symbolic name.</p>
<p class="p">The most recent
                settings are always found in the <span class="ph filepath">&lt;libcouchbase/cntl.h&gt;</span>
                header file.</p>
<p class="p">Some options are also available in a simplified string format, in
                which the option names and values are strings. These may be set with the
                    <span class="keyword apiname">lcb_cntl_string()</span> function or directly embedded into the
                connection string.</p>
Most of the information in this section applies to any
            component that uses the C SDK, assuming they accept a connection string as the way to
            connect to the cluster. Such is the case with the command-line tools or higher level
            SDKs that build on the C SDK. Some specific options are C-only and are marked as
                such.<div class="note note"><span class="notetitle">Note:</span> This section provides connection string options as well as
                those options that can be passed to <span class="keyword apiname">lcb_cntl_string()</span> and only
                documents options that have a string alias. Other options are available directly via
                the <span class="keyword apiname">lcb_cntl()</span> function. For more details about those options,
                see the header file and API documentation for the <span class="keyword apiname">lcb_cntl()</span>
                function.</div>
The options listed in the following table can be passed to the
            connection string by using the form
                <samp class="ph codeph">couchbase://hosts/bucket?option1=value1&amp;option2=value2</samp> or via
            the <span class="keyword apiname">lcb_cntl_string()</span> function. Some options (where specified) are
            valid only in the connection string. Here's an example that shows how to use the
                <span class="keyword apiname">lcb_cntl_string()</span> function:</div>

        <pre class="pre codeblock language-c">lcb_cntl_string(instance, <span class="hl-string" style="color:#2a00ff">"option"</span>, <span class="hl-string" style="color:#2a00ff">"value"</span>)</pre>

        <p class="p">Connection strings are only available in version 2.4.0 and later. Some options were
            introduced in a later version (indicated next to the option). Almost all of the options
            have programmatic <span class="keyword apiname">lcb_cntl()</span> equivalents, which can be used instead.
            Some settings are only available via <span class="keyword apiname">lcb_cntl()</span> and are thus not
            listed here.</p>

        <div class="section"><h2 class="title sectiontitle">Selected configuration options</h2>
            
            <div class="note note"><span class="notetitle">Note:</span> This list does not contain <em class="ph i">all</em> possible settings, only the most common
                ones. See <em class="ph i">&lt;libcouchbase/cntl.h&gt;</em> for the full list of publically available
                settings.</div>

            <p class="p"><strong class="ph b">Timeout values</strong> should be specified using the decimal point, and are
                interpreted as seconds. To specify fractional second intervals, just use the
                fractional part of the value. For example, <samp class="ph codeph">operation_timeout=2.75</samp>
                will set the timeout to 2750 milliseconds. </p>

            <p class="p"><strong class="ph b">Boolean values</strong> can be specified using 0 for false, and 1 for true. The strings
                    <samp class="ph codeph">true</samp> and <samp class="ph codeph">false</samp> are also recognized. If this
                appears as a value type for <span class="keyword apiname">lcb_cntl()</span> then it is a pointer to an
                    <samp class="ph codeph">int</samp>, where a value of 0 indicates <samp class="ph codeph">false</samp>, and a
                non-zero value indicates <samp class="ph codeph">true</samp>.</p>

            <p class="p"><strong class="ph b">Microsecond values</strong>. These values are only applicable for
                    <span class="keyword apiname">lcb_cntl()</span> and only usable directly with the C library. They
                indicate the value as a time interval specified in microseconds. The value itself
                should be a <samp class="ph codeph">lcb_U32</samp>, a pointer to which is passed into
                    <span class="keyword apiname">lcb_cntl()</span> as its last argument.</p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic_k5w_kzt_4r__table_tpx_q25_4r" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1. Options reference</span></caption>
                    
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="20.28397565922921%" id="d7175e194">Option Name (for use in connection string or
                                    <span class="keyword apiname">lcb_cntl_string()</span>)</th>

                            <th class="entry" valign="top" width="20.28397565922921%" id="d7175e200">Macro/Constant name (for use with <span class="keyword apiname">lcb_cntl()</span>)
                                    (<em class="ph i">C Only</em>).</th>

                            <th class="entry" valign="top" width="59.432048681541595%" id="d7175e209">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">operation_timeout</samp> (Timeout)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_OP_TIMEOUT</span> (microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">The operation timeout is the maximum amount of time the library
                                will wait for an operation to receive a response before invoking its
                                callback with a failure status. <p class="p">An operation might time-out
                                    if:</p>
<ul class="ul" id="topic_k5w_kzt_4r__ul_fny_525_4r">
                                    <li class="li">A server is taking too long to respond</li>

                                    <li class="li">An updated cluster configuration has not been promptly
                                        received </li>

                                </ul>
When an operation times out, it will fail with the
                                    <span class="keyword apiname">LCB_ETIMEDOUT</span> error code.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">config_total_timeout</samp> (Timeout)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_CONFIGURATION_TIMEOUT</span>
                                (microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">
                                <p class="p">This is how long the client will wait to obtain the initial
                                    configuration. This affects the maximum amount of time that the
                                    call to <span class="keyword apiname">lcb_wait()</span> will take after having
                                    called <span class="keyword apiname">lcb_connect()</span>. If
                                        <span class="keyword apiname">lcb_get_bootstrap_status</span> is returning
                                    with <span class="keyword apiname">LCB_ETIMEDOUT</span> and you are running on a
                                    slow network, modifying this setting may increase the chances of
                                    success.</p>

                                <p class="p">See also <samp class="ph codeph">config_node_timeout</samp>.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">config_node_timeout</samp> (Timeout)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_CONFIG_NODE_TIMEOUT</span>
                                (microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">The per-node configuration timeout sets the amount of time to
                                wait for each node within the bootstrap/configuration process. This
                                interval is a subset of the <samp class="ph codeph">config_total_timeout</samp>
                                option mentioned above and is intended to ensure that the bootstrap
                                process does not wait too long for a given node. <p class="p">Nodes that are
                                    physically offline may never respond, and it may take a long
                                    time until they are detected as being offline. See <a class="xref" href="http://issues.couchbase.com/browse/CCBC-261" target="_blank">CCBC-261</a> and <a class="xref" href="http://issues.couchbase.com/browse/CCBC-313" target="_blank">CCBC-313</a> for more
                                    reasons.</p>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">views_timeout</samp> (Timeout)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_VIEW_TIMEOUT</span> (Microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">The I/O timeout for view operations.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">n1ql_timoeut</samp> (Timeout). Since 2.5.3</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_N1QL_TIMEOUT</span> (Microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">The I/O timeout for N1QL queries.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">durabilty_timeout</samp> (Timeout)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_DURABILITY_TIMEOUT</span>
                                (microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">The default timeout for <samp class="ph codeph">lcb_durability_poll()</samp>
                                This is the time the client will spend sending repeated probes to a
                                given key's vBucket masters and replicas before they are deemed not
                                to have satisfied the durability requirements. </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">durabilty_interval</samp> (Timeout)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_DURABILITY_INTERVAL</span>
                                (Microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">This is the time the client will wait between repeated probes to
                                a given server.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">randomize_nodes</samp> (Boolean)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 ">
                                <em class="ph i">connection string only</em>
                            </td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">This option controls whether the connection attempts for
                                configuration retrievals should be done in the supplied order or
                                whether they should be randomized. This setting is off by default.
                                    <em class="ph i">To affect the order of the initial connection, this option
                                    must be supplied in the connection string</em>. <p class="p">For the
                                    initial connection, the default order is the list of hosts
                                    provided in the structure. For subsequent connections, this is
                                    the order of nodes as received by the server.</p>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">config_cache</samp> (Path)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_CONFIGCACHE</span> (Path, a pointer to
                                    <samp class="ph codeph">char</samp> buffer).</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">The configuration cache allows bootstrapping from a cluster
                                without using the initial bootstrap connection, considerably
                                reducing latency. If the file passed does not exist, the normal
                                bootstrap process is performed, and the file is written to with the
                                current information. <div class="note note"><span class="notetitle">Note:</span> The leading directories for the file must
                                    exist. Otherwise, the file will never be
                                    created.</div>
<div class="note note"><span class="notetitle">Note:</span> Configuration cache is not supported for
                                    memcached buckets</div>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">config_cache_ro</samp> (Path). Since 2.4.8</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_CONFIGCACHE_RO</span> (Path)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">This is identical to the <samp class="ph codeph">config_cache</samp> option,
                                except that it guarantees that the library will never overwrite or
                                otherwise modify the path specified.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">detailed_errcodes</samp> (Boolean)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_DETAILED_ERRCODES</span> (Boolean)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 "> Sets the behavior for reporting network errors. By default
                                network errors are returned as <samp class="ph codeph">LCB_NETWORK_ERROR</samp>.
                                Return codes for compatibility reasons. More detailed error codes
                                may be available by enabling this option that will return
                                appropriate error codes with a category
                                    <samp class="ph codeph">LCB_ERRTYPE_NETWORK</samp>. <p class="p">Using this option means
                                    your programming model is centered around the various
                                        <samp class="ph codeph">LCB_EIF*</samp> macros (see
                                        <span class="ph filepath">&lt;libcouchbase/error.h&gt;</span>) rather
                                    than individual codes.</p>

                                <p class="p">For users of higher level languages (wrapping the library), this
                                    may result in different exceptions being thrown, but may also
                                    help debug network issues.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">http_poolsize</samp> (Integer)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 ">
                                <span class="keyword option">LCB_CNTL_HTTP_POOLSIZE</span>
                            </td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">
                                <p class="p">Set the maximum pool size for pooled HTTP (view or N1QL request)
                                    sockets. </p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">error_thresh_delay</samp> (Timeout)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_CONFDELAY_ERRTHRESH</span>
                                (microseconds)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">This option controls refreshing the configuration upon the
                                receipt of errors. The client throttles how many requests for a new
                                configuration it will send in a given interval—this is to avoid
                                sending many successive requests in the event of a non-transient
                                error condition.<p class="p">This setting controls the duration of this
                                    interval. The value can be adjusted upwards if operating in an
                                    environment where it is normal to receive many timeouts, such as
                                    in a resource-contented server or network. It can be adjusted
                                    downwards if timeouts are expected only in situations where the
                                    cluster has changed state.</p>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">bootstrap_on</samp> (String; see description)</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 ">
                                <em class="ph i">connection string only</em>
                            </td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">Controls how the client attempts to retrieve the configuration
                                from the cluster. By default, the client attempts to connect to the
                                data (memcached) port of each node listed and attempts to retrieve
                                the configuration from there. If the retrieval fails, the client
                                attempts the same process using the HTTP REST API port (8091) of
                                each node. <p class="p">This setting can be used to have the client forcefully
                                    use a single mode. This might be helpful for quick
                                    initialization of memcached buckets, which can only send
                                    configurations over HTTP. It can also be used in the case of
                                    potential issues encountered with either mode.</p>
<p class="p">Possible
                                    values for this setting are:</p>
<ul class="ul" id="topic_k5w_kzt_4r__ul_vhj_vgg_45">
                                    <li class="li"><samp class="ph codeph">http</samp>, to force bootstrap over HTTP
                                        only</li>

                                    <li class="li"><samp class="ph codeph">cccp</samp>, to force bootstrap over memcached
                                        only</li>

                                    <li class="li"><samp class="ph codeph">both</samp>, which attempts both (as above).
                                            <em class="ph i">This option can only be set from within the
                                            connection string</em>.</li>

                                </ul>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">fetch_mutation_tokens</samp> (Boolean). Since
                                2.5.2</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_FETCH_MUTATION_TOKENS</span> (Boolean)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">Whether the server should send an additional 16 bytes of metadata
                                for each mutation response. This option is off by default but is
                                required for <a class="xref" href="durability.html#topic_inc_2js_zr__lcb_enhanced_dur">durability.html#topic_inc_2js_zr__lcb_enhanced_dur</a>. This
                                option should be set either in the connection string, or
                                    <em class="ph i">immediately</em> calling <span class="keyword apiname">lcb_create()</span>. For
                                non-C applications, this must always be in the connection
                                string.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e194 "><samp class="ph codeph">dur_mutation_tokens</samp> (Boolean). Since
                                2.5.2</td>

                            <td class="entry" valign="top" width="20.28397565922921%" headers="d7175e200 "><span class="keyword option">LCB_CNTL_DURABILITY_MUTATION_TOKENS</span>
                                (Boolean)</td>

                            <td class="entry" valign="top" width="59.432048681541595%" headers="d7175e209 ">Determines if <a class="xref" href="durability.html#topic_inc_2js_zr__lcb_enhanced_dur">durability.html#topic_inc_2js_zr__lcb_enhanced_dur</a> is
                                used automatically. It is enabled by default if
                                    <samp class="ph codeph">fetch_synctokens</samp> is also enabled. Applications
                                can take advantage of this new feature without modifying any code
                                other than enabling these settings.<div class="note note"><span class="notetitle">Note:</span> If you are checking
                                    durability constraints across client instances, and
                                        <samp class="ph codeph">fetch_synctokens</samp> is enabled, then this
                                    setting should be disabled. Otherwise, the client will fail to
                                    retrieve the <span class="keyword apiname">lcb_SYNCTOKEN</span> (see more about
                                    this in the Enhanced Durability section). Alternatively, you can
                                    supply the sync token directly in the command
                                structure.</div>
</td>

                        </tr>

                    </tbody>

                </table>
</div>

        </div>

        <div class="section"><h2 class="title sectiontitle">Connection string schemes</h2>
            
        </div>

        <div class="p">This section provides a reference point for various schemes and port parameters that they
            represent (in case alternate ports are required).<div class="note note"><span class="notetitle">Note:</span> Unless debugging a specific
                network reachability issue or operating in an environment with non-default ports or
                using SSL, you need only use the simple
                form:<pre class="pre codeblock">couchbase://host1,host2,host3...hostN/bucket</pre>
</div>
</div>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic_k5w_kzt_4r__table_bsz_vd5_4r" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 2. Schemes</span></caption>
                
                
                <thead class="thead" align="left">
                    <tr class="row">
                        <th class="entry" valign="top" width="16.5016501650165%" id="d7175e644">Scheme</th>

                        <th class="entry" valign="top" width="83.4983498349835%" id="d7175e647">Documentation</th>

                    </tr>

                </thead>

                <tbody class="tbody">
                    <tr class="row">
                        <td class="entry" valign="top" width="16.5016501650165%" headers="d7175e644 ">
                            <samp class="ph codeph">couchbase://</samp>
                        </td>

                        <td class="entry" valign="top" width="83.4983498349835%" headers="d7175e647 ">This is the most common scheme and indicates that the client performs
                            a normal bootstrap process. It will first attempt to bootstrap from
                            "CCCP" using the memcached port. If that fails, the client attempts HTTP
                            bootstrap or the REST API port.<div class="p">If ports are passed to this scheme
                                (e.g.
                                <samp class="ph codeph">couchbase://host1:4444,host2:5555,host3:6666</samp>), then
                                they have to be memcached ports. The ports cannot be HTTP ports and
                                use the HTTP scheme. The default port for memcached is <strong class="ph b">11210</strong>
                                and the default port for HTTP is
                                <strong class="ph b">8091</strong>.<pre class="pre codeblock">couchbase://host1,host2/mybucket
couchbase://localhost:12000/mybucket</pre>
</div>
</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="16.5016501650165%" headers="d7175e644 ">
                            <samp class="ph codeph">couchbase<strong class="ph b">s</strong>://</samp>
                        </td>

                        <td class="entry" valign="top" width="83.4983498349835%" headers="d7175e647 ">This is the scheme used to connect to the cluster via SSL. When using
                            this scheme, you must also pass the path to the local copy of the
                            cluster's certificate (e.g.
                                <samp class="ph codeph">couchbases://host1,host2,host3/bucket?certpath=/path/to/cert.pem</samp>).
                            If specifying ports for the hosts, the ports should point to the
                            SSL-enabled Memcached port for the node. The default Memcached SSL port
                            is <strong class="ph b">11207</strong>. Currently bootstrapping over HTTP with SSL is
                            unsupported.<pre class="pre codeblock">couchbases://sslhost1,sslhost2,sslhost3/mybucket?certpath=/home/app/cbcert.pem</pre>
</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="16.5016501650165%" headers="d7175e644 ">
                            <samp class="ph codeph">http://</samp>
                        </td>

                        <td class="entry" valign="top" width="83.4983498349835%" headers="d7175e647 ">This is the scheme used to connect to the cluster using the HTTP
                            protocol and can be used in cases where there is a deliberate intent to
                            connect to an alternate HTTP REST API port. Note that when using this
                            scheme, the commonly used legacy idioms of
                                <samp class="ph codeph">http://host:8091</samp> or <samp class="ph codeph">http://host</samp>
                            will be converted into a simple <samp class="ph codeph">couchbase://host</samp>. The
                            bootstrap process will function identically to the
                                <samp class="ph codeph">couchbase://</samp> scheme. If using non-default ports,
                            then only HTTP bootstrap will be
                            performed<pre class="pre codeblock">http://localhost:9000/mybucket</pre>
</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="16.5016501650165%" headers="d7175e644 "><samp class="ph codeph">memcached://</samp> (<strong class="ph b">Experimental</strong>)</td>

                        <td class="entry" valign="top" width="83.4983498349835%" headers="d7175e647 ">This scheme may be used to connect to a standalone memcached server.
                            The scheme allows the client to communicate with any implementation of
                            the memcached binary protocol, and as such may be used to communicate
                            with <a class="xref" href="http://memcached.org" target="_blank">http://memcached.org</a>'s implementation. When specifying this
                            scheme, you must specify each host in the cluster (including its port,
                            if
                            needed):<pre class="pre codeblock">memcached://node1:11211,node2:11211,node3:11211/binary-username</pre>
The
                                <em class="ph i">bucket</em> field becomes the binary protocol username.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="16.5016501650165%" headers="d7175e644 "><samp class="ph codeph">couchbase+explicit://</samp> (<strong class="ph b">Experimental</strong>)</td>

                        <td class="entry" valign="top" width="83.4983498349835%" headers="d7175e647 ">This scheme is experimental but provides the highest degree of
                            flexibility. <samp class="ph codeph"><em class="ph i">host:port</em></samp> pairs are specified, with
                            a third specifier indicating the type of connection explicitly. The
                            format is <em class="ph i">host:port=type</em> where <em class="ph i">type</em> is one of
                                <samp class="ph codeph">mcd</samp> (for couchbase Memcached),
                                <samp class="ph codeph">mcds</samp> (for SSL-enabled Memcached),
                                <samp class="ph codeph">http</samp> (for the HTTP REST API) and
                                <samp class="ph codeph">mccompat</samp> (for standalone
                            Memcached)<pre class="pre codeblock">couchbase+explicit://host1:8091=http,host1:11210=mcd,host2:9000=http,host2:12000=mcd/mybucket</pre>
</td>

                    </tr>

                </tbody>

            </table>
</div>

    </div>

<div class="related-links"></div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="other-toplevel.html" title="Other"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Other</span></a></span>  </div><div class="footer">WebHelp output generated by<a href="http://www.oxygenxml.com" target="_blank"><span class="oXygenLogo"><img src="oxygen-webhelp/resources/img/LogoOxygen100x22.png" alt="Oxygen"></img></span><span class="xmlauthor">XML Author</span></a> - Trial Edition</div>
</body>
</html>