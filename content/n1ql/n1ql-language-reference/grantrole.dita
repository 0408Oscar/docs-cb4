<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept
  PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="topic_11_5" xml:lang="en-US">
    <title>GRANT</title>
    <shortdesc>The GRANT statement allows in granting any RBAC roles to a specific user.</shortdesc>
    <conbody>
        <p>Roles can be of the following two types:</p>
        <p>
            <ul id="ul_v3n_1y4_4z">
                <li><b>simple</b> - which apply generically to all buckets/resources in the
                    cluster.<p>For example, <codeph>ClusterAdmin</codeph>,
                        <codeph>BucketAdmin</codeph></p></li>
                <li><b>parameterized by a bucket</b> - which are defined for the scope of the
                    specified bucket only. The bucket name is specified in parenthesis ( ).<p>For
                        example, <codeph>BucketReader(`travel-sample`)</codeph>,
                        <codeph>Query_Select(`travel-sample`)</codeph></p></li>
            </ul>
        </p>
        <p>Use of an unparameterized role with syntax of parameterized roles or vice versa will
            result in an error. For example, <codeph>ClusterAdmin(`travel-sample`)</codeph> or
            <codeph>Query_Select</codeph> will return an error.</p>
        <p>Only Full Administrators can run the GRANT ROLE statement. For more details about user
            roles, see <xref href="../../security/security-authorization.dita#authorization"/>.</p>
        <p/>
        <p><b>Syntax</b></p>
        <p>
            <codeblock>GRANT <varname>role1</varname> [, <varname>role2</varname>, ...] ON <varname>bucket1</varname> [, <varname>bucket2</varname>, ...] TO <varname>user1</varname> [, <varname>user2</varname>, ...]</codeblock>
        </p>
        <p>
            <dl>
                <dlentry>
                    <dt>role</dt>
                    <dd><codeph>RBAC-role[(bucket_name)]</codeph></dd>
                    <dd><codeph>RBAC-role</codeph> is one of the <xref
                        href="../../security/security-authorization.dita#authorization">RBAC
                        role names predefined</xref> by Couchbase Server.</dd>
                    <dd><codeph>RBAC-user</codeph> is the user name created by the Couchbase Server
                        RBAC system.</dd>
                </dlentry>
            </dl>
        </p>
        <dl>
            <dlentry>
                <dt>bucket</dt>
                <dd>The name of your Couchbase or Memcached bucket or buckets.</dd>
            </dlentry>
        </dl>
        <dl>
            <dlentry>
                <dt>user</dt>
                <dd><codeph>RBAC-user</codeph> in your bucket.</dd>
            </dlentry>
        </dl>
        <p>GRANT statements support legacy systems and have two
            forms:<codeblock spectitle="Unparameterized Roles" outputclass="language-json">GRANT Replication Admin, Query External Access TO jlarson, dtrump
                GRANT replication_admin, query_external_access TO jlarson, dtrump</codeblock></p>
        <codeblock spectitle="Parameterized Roles">GRANT Query Select, Views Admin ON orders, customers TO bill, linda
            GRANT query_select, views_admin ON orders, customers TO bill, linda</codeblock>
        <note>Mixing and matching of parameterized and parameterized roles is not allowed.</note>
        <p><b>Example 1</b>:  Grant the role of Cluster Administrator to three people.</p>
        <p>
            <codeblock>GRANT ClusterAdmin TO david, michael, robin;</codeblock>
        </p>
        <p><b>Example 2</b>: Grant the roles of Cluster Administrator and Bucket Reader in the
            Travel Sample bucket to
            Debby.<codeblock>GRANT ClusterAdmin, BucketReader ON `travel-sample` TO debby;</codeblock></p>
    </conbody>
</concept>
