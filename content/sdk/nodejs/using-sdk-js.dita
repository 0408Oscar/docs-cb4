<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_qkc_cnm_qv">
    <title>Start Using the node.js SDK</title>
    <shortdesc>The Couchbase node.js SDK allows node applications to access a Couchbase cluster. The
        node.js SDK is implemented as a native extension module using libcouchbase.</shortdesc>
   <!-- <body>
        <section
            conref="../shared/install-couchbase.dita#ReusableComponent_fb4_psc_kv/section_gb4_psc_kv"/>
    </body>-->
    <topic id="topic_wgf_spm_qv">
        <title>Installing the SDK</title>
        <body>
            <p>To install the SDK, simply use the <codeph>npm</codeph> tool:</p>
            <codeblock>npm install couchbase</codeblock>
            <note>On non-Windows platforms, you must have <xref
                    href="https://github.com/TooTallNate/node-gyp" format="html" scope="external"
                    >node-gyp</xref> installed and a build environment available because the
                Couchbase SDK module takes advantage of V8 add-on capabilities (written in C/C++).
                On Windows, the module comes with prebuilt libraries.</note>
            <section><title>Using an external C SDK</title>The node.js SDK comes with an embedded
                version of the C SDK in order to streamline the installation experience. It may be
                necessary to use an external version of the C SDK if you wish to:<ul
                    id="ul_km5_jsv_tv">
                    <li>Use SSL connections with Couchbase</li>
                    <li>Use a version of the C SDK contains bug fixes not available in the embedded
                        version</li>
                    <li>Develop the SDK itself and wish to speed up build times</li>
                </ul>To install the Node.js SDK using an external C SDK installation, <xref
                    href="../c/using-sdk-c.dita#toplevel">install the libcouchbase library</xref>
                first, and point npm to it during the install.
                <codeblock># Assuming you have libcouchbase installed in /usr/local
# such that /usr/local/lib/libcouchbase.so (or .dylib) exists:
npm install --couchbase-root=/usr/local</codeblock></section>
            <section><title>Installing previous releases</title><p>You can install a previous
                    release of the SDK using <codeph>npm install couchbase@x.y.z</codeph></p>where
                    <codeph>x.y.z</codeph> is the version. For example, to install version 2.0.1,
                use:<codeblock>npm install couchbase@2.0.1</codeblock></section>
        </body>
    </topic>
    <topic id="topic_pvk_vrm_qv">
        <title>Using the SDK</title>
        <body>
            <section><title>Hello Couchbase</title>The code snippet below shows how the node.js SDK
                may be used for some common operations:</section>
            <codeblock outputclass="language-javascript">var couchbase = require('couchbase')
var cluster = new couchbase.Cluster('couchbase://localhost/');
var bucket = cluster.openBucket('default');
var N1qlQuery = couchbase.N1qlQuery;

bucket.upsert('user:king_arthur', {
        'email': 'kingarthur@couchbase.com', 'interests': ['Holy Grail', 'African Swallows']
    },
    function (err, result) {
        bucket.get('user:king_arthur', function (err, result) {
            console.log('Got result: %j', result.value);
            bucket.query(
                N1qlQuery.fromString('SELECT * FROM default WHERE $1 in interests LIMIT 1'),
                ['African Swallows'],
                function (err, rows) {
                    console.log("Got rows: %j", rows);
                });
        });
    });</codeblock>
            <section><title>API Reference</title>The API reference is generated for each release and
                can be found at <xref
                    href="http://docs.couchbase.com/sdk-api/couchbase-node-client-LATEST"
                    format="html" scope="external"/>.<title>Contributing</title><p>Couchbase
                    welcomes community contributions to the node.js SDK. The <xref
                        href="https://github.com/couchbase/couchnode" format="html" scope="external"
                        >node.js SDK source code</xref> is available on GitHub.</p></section>
        </body>
    </topic>
</topic>
