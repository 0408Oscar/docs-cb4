<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_zrw_kth_t5">
  <title>What's new in version 4.5 - Developer Preview?</title>
  <body>
    <p>Couchbase Server 4.5 leaps forward with faster, simpler, and more secure data processing.</p>
    <section><title>Faster</title>
      <p>Couchbase Server added support for prepared execution of N1QL statements and covering
        indexes for faster queries. Query and Indexing got another boost with version 4.5.</p>
      <dl>
        <dlentry>
          <dt>Memory Optimized Global Indexes</dt>
          <dd>Version 4 of Couchbase Server introduced <xref
              href="http://developer.couchbase.com/documentation/server/4.1/architecture/global-secondary-indexes.html"
              format="html" scope="external">global indexes</xref> which are<xref
              href="http://developer.couchbase.com/documentation/server/4.1/architecture/services-archi-multi-dimensional-scaling.html"
              format="html" scope="external"> independently partitioned</xref> away from data for
            faster N1QL queries. With the new memory-optimized global indexes in 4.5, Couchbase
            Server provides further tuning for in-memory index processing and index scans for the
            lowest latencies with N1QL. In other databases indexes might impact the performance of
            mutations, data ingest and DML through SQL INSERT UPDATE and DELETE, In Couchbase
            Server, the new memory-optimized global indexes provide a fresh index that is up-to-date
            under aggressive mutation rates without impacting the incoming database workload. You
            can enable the new memory-optimized global indexes through the index settings under the
              <wintitle>Settings</wintitle> tab in the Couchbase Server Web Console.</dd>
        </dlentry>
        <dlentry>
          <dt>Indexing Embedded Arrays</dt>
          <dd>Couchbase Server provides a native data model that can easily represent complex
            relationships in a simple natural document. In relational databases, “Movies” and
            “Showtimes” would be two separate tables whereas, in the native document database like
            Couchbase Server, data model naturally adapts to the applications representation or
            movies which would be a single “Movie” instance that contains the “Showtimes” array.</dd>
            <dd>N1QL provides a considerable number of verbs around array processing embedded
            structures and arrays such as <codeph>UNNEST</codeph> and
              <codeph>ANY</codeph>/<codeph>EVERY</codeph> operators. With the new array indexing
            feature, developers can optimize execution of the queries. The new index can optimize
            queries that are looking for showtimes through indexes. You can index embedded arrays
            using the new <codeph>ALL</codeph> keyword in<xref
              href="http://developer.couchbase.com/documentation/server/4.1/n1ql/n1ql-language-reference/createindex.html"
              format="html" scope="external">CREATE INDEX statement</xref> in N1QL. For more information, see <xref href="indexing-arrays.dita"></xref>. </dd>
        </dlentry>
        <dlentry>
          <dt>Faster Read-Your-Own-Write Consistency (RYOW) with N1QL Queries</dt>
          <dd>Couchbase Server 4.0 provides queries with N1QL and Map/Reduce Views that have tunable
            consistency guarantees for improved query performance. Today, developers can query data
            using eventual or strict consistency flag (see “staleness” flags for details). With
            strictly consistent queries, <codeph>staleness</codeph> option is set to
              <codeph>false</codeph> per query. This ensures that results of the query are generated
            using the request timestamp token.</dd> 
           <dd>With the new <codeph>RYOW</codeph> flag, you can grab timestamp tokens from your last
            update that will ensure you can read your last update instead of the query request
            timestamp token. Couchbase Server is a database that can process very high mutation
            rates sometimes at millions of mutations a second. RYOW latency provides substantial
            optimization for applications that have to deal with high mutation rates but cannot
            compromise on consistency guarantees. You can utilize the new RYOW capabilities through
            the SDKs using the new <varname>XYZ</varname> flag. </dd>
        </dlentry>
        <dlentry>
          <dt>Improved Index Write Performance with Circular Reuse</dt>
          <dd>Global Indexes use the new ForestDB engine for index storage. ForestDB uses an
            append-only architecture (you can find more details on forestDB architecture here). Full
            compaction is run as pages are “orphaned” with the appending writes. With version 4.5,
            ForestDB provides circular reuse as an alternative to full compaction model. Circular
            reuse reduces the disk size and IO bandwidth demands for indexes and reduces the
            requirement for running frequent full compaction operations. The overall index
            maintenance and index read-and-write performance are considerably improved for global
            indexes. You can turn on the “circular reuse” through the “Settings” tab in the
            Couchbase Server Web Console. <p>N1QL also added a number of new optimizations for
                <codeph>LIMIT</codeph> and <codeph>ORDER BY</codeph> and improved rules for covering
              more queries as well as hundreds of quality improvements. These advances in version
              4.5 aggregate on top of the performance advancements delivered in version 4.1:
              specifically, prepared statements and covering indexes that can help speed up queries
              by eliminating portions of the work in the execution plan.</p></dd>
        </dlentry>
        </dl>
    </section>
    <section><title>Simpler</title>
      <p>Development and administration become much simpler with Couchbase Server 4.5. </p>
      <dl>
        <dlentry>
          <dt>Advanced Partial Updates and Data Structures</dt>
          <dd>With Couchbase Server 4.5, applications no longer have to address the entire document.
            With the extended APIs, developers can operate on parts of a document without having to
            send the entire document back and forth between client and server. The result is
            enhanced performance and efficiency in the network IO path, especially when documents in
            the system are large. For more information, see <xref href="sub-doc-api.dita"></xref>.</dd>
        </dlentry>
        <dlentry>
          <dt>Integrated Query Workbench</dt>
          <dd>Couchbase Server 4.5 also provides a simple and visual way to develop and design
            queries. Query workbench allows executing ad hoc queries directly from the console to
            help developers and administrators interact with the system in development, test, and
            product environments. To use the new integrated query workbench, switch to the new Query
            tab in the Couchbase Server Web Console. For more information,  see <xref href="query-workbench.dita"></xref>.</dd>
        </dlentry>
        <dlentry>
          <dt>Flexible JOINs in N1QL</dt>
          <dd>With version 4.5, N1QL introduces an extended <codeph>JOIN</codeph> syntax for added
            flexibility in JOINs. The new <codeph>JOIN ON KEY</codeph> … <codeph>FOR</codeph>
            keyword allows developers to specify JOIN operations that can use the left or the right
            keyspace for the JOIN. With the addition of the extended syntax, N1QL also allows much
            better use of indexes to perform the JOIN operation faster across the two sides, and
            substantially lowers JOIN latencies. For example;
            <codeblock>SELECT * FROM Playlists JOIN Songs ON KEY</codeblock> You can find more about
            the new JOIN syntax here. </dd>
        </dlentry>
        <dlentry>
          <dt>Query Profiling</dt>
          <dd>N1QL adds several new keyspaces under the “system:” namespace to the existing list
            that allows listing indexes, buckets, and more. The new keyspaces under System: allow
            monitoring active executions, connections and more. For a full list of new system
            keyspaces added to N1QL, please visit the details page.</dd>
        </dlentry>
        <dlentry>
          <dt>Advanced Command-line Tooling for Query</dt>
          <dd>In previous releases, the <cmdname>cbq</cmdname> command line tool has been the
            central point for executing N1QL queries. Command line access to N1QL has been greatly
            improved in this release, and the new command line access provides smart connection
            management and full scriptability with version 4.5. For more information, see <xref href="cbq-shell.dita"></xref>.</dd>
        </dlentry>
        <dlentry>
          <dt>Enterprise Backup and Restore</dt>
          <dd>Couchbase Server 4.5 provides a new enterprise backup and restore tool that can back
            up larger datasets with much higher performance. The backup and restore capabilities are
            critical to ensuring disaster recovery and business continuity. The scalable,
            high-performance backup and restore service allows Couchbase Server to provide faster
            recovery with better RTO (Recovery Time Objective) and RPO (Recovery Point Objective).
            See <xref href="enterprise-backup-restore.dita#topic_rr5_sv3_t5"/>for detailed
            information.</dd>
         
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Additional enhancements</dt>
          <dd>
            <ul>
              <li>Simplified administration for large node counts (>100 node clusters)</li>
              <li>Additional support for the Debian 8 platform.</li>
            </ul></dd>
        </dlentry>
      </dl>
      
    </section>    <section><title>Secure</title>
      
<dl> 
  <dlentry>
          <dt>X509 Certificates</dt>
          <dd>Couchbase Server version 4.5 adds support for custom <xref
              href="security-x509.dita#topic_gp4_1yl_s5">X.509 certificates</xref> for encrypted
            communication for applications, queries, and administrators. The new capability allows
            the Couchbase administrators to rotate certificates and keep communications highly
            secure. For more information, see <xref href="security-x509.dita"></xref>.</dd>
        </dlentry>
      </dl>
    </section>
    
  </body>
</topic>
