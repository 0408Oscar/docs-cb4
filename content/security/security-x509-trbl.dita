<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_zlw_zqx_tv">
  <title>Troubleshooting X.509 Certificates</title><shortdesc>Error messages connected to X.509 certificates configuration.</shortdesc>
  <body>
    <p>Errors that you might encounter while working with XC,.509 certificates:</p>
    <section><title><cmdname>POST /controller/uploadClusterCA</cmdname></title>
      
        <p>Here are some possible error messages that you might encounter during the configuration of X.509 certificates 
          and solutions to fix them:
        </p> 
        <dl>
          <dlentry>
            <dt>Certificate should not be empty</dt>
            <dd>Appears if the request body is empty.</dd>
          </dlentry>
        </dl>
       <dl>
         <dlentry>
           <dt>Certificate is not valid at this time</dt>
           <dd>Appears if the certificate has expired, or is not yet valid.</dd>
         </dlentry>
       </dl> 
      <dl>
        <dlentry>
          <dt>Malformed certificate</dt>
          <dd>The certificate is not formed properly.</dd>
        </dlentry>
      </dl> 
      <dl>
        <dlentry>
          <dt>Only one certificate per request is allowed</dt>
          <dd>Appears when the file contains more than one key or certificate.</dd>
        </dlentry>
      </dl> 
      <dl>
        <dlentry>
          <dt>Encrypted certificates are not supported</dt>
          <dd>This error is not common.</dd>
        </dlentry>
      </dl> 
      <dl>
        <dlentry>
          <dt>Invalid certificate type: ~s</dt>
          <dd>Appears when a header other than <codeph>BEGIN CERTIFICATE</codeph> has been
            found.</dd>
        </dlentry>
      </dl> 
      
    </section>
    <section><title><cmdname>POST /node/controller/reloadCertificate</cmdname></title>
      <dl>
        <dlentry>
          <dt>Cluster CA needs to be set before setting node certificate</dt>
          <dd>Appears when your cluster is still using the self-generated certificate.</dd>
        </dlentry>
      </dl> 
      <dl>
        <dlentry>
          <dt>Incorrectly configured certificate chain. Error: ~p. Certificate: ~p</dt>
          <dd>Erlang certificate validation failed for some reason.</dd>
        </dlentry>
      </dl> 
      <dl>
        <dlentry>
          <dt>Incorrectly configured certificate chain. &lt;Error&gt;</dt>
          <dd>&lt;Error&gt; is one of the uploadClusterCA error messages. Denotes an invalid certificate in the chain.</dd>
        </dlentry>
      </dl> 
      <dl>
        <dlentry>
          <dt>Unable to read private key file &lt;Path&gt;. &lt;Error&gt;</dt>
          <dd>&lt;Error&gt; is one of the file read errors.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Unable to read certificate chain file &lt;Path&gt;. &lt;Error&gt;</dt>
          <dd>&lt;Error&gt; is one of the file read errors.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Invalid private key type: &lt;Type&gt;</dt>
          <dd>The private key has an unsupported header.</dd>
        </dlentry>
      </dl>      
      
      
      <dl>
        <dlentry>
          <dt>Provided certificate doesn't match provided private key</dt>
          <dd>The certificate doesn't recognize the message signed with a private key.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Encrypted keys are not supported</dt>
          <dd>The private key is encrypted.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Provided private key contains incorrect number of entries</dt>
          <dd>The private key is a chain of entries.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Malformed or unsupported private key format</dt>
          <dd>The private key cannot be used (junk).</dd>
        </dlentry>
      </dl>
      
      </section>
    <section><title>File Read errors</title>
    <dl>
      <dlentry>
        <dt>File does not exist</dt>
        <dd>The file is missing, does not exist.</dd>
      </dlentry>
    </dl>
    
      <dl>
        <dlentry>
          <dt>Missing permission for reading the file, or for searching one of the parent directories</dt>
          <dd>You don't have the proper permissions to read the file or to search its parent
            directories.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>The named file is a directory</dt>
          <dd>The file name you are looking for is a directory.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>A component of the file name is not a directory</dt>
          <dd>A component of the file name is not a directory.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>There is not enough memory for the content of the file</dt>
          <dd>Not enough memory available.</dd>
        </dlentry>
      </dl>
    
    
    </section>
      
 
  </body>
</topic>
